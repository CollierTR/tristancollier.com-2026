---
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';
import FormattedDate from './FormattedDate.astro';
import CardLayoutGrid from '../layouts/CardLayoutGrid.astro';
import BlogCard from '../components/BlogCard.astro';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
const featuredPosts = posts.slice(0, 2) // set number of posts for display

---

<CardLayoutGrid title="FEATURED POSTS" buttonTitle="See All Posts" buttonLink="/blog">
  {
    featuredPosts.map((post) => (
  <BlogCard link={`/blog/${post.id}/`} title={post.data.title} description={post.data.description} img={post.data.heroImage} date={post.data.pubDate} />
    ))
  }
</CardLayoutGrid>
